const inputBox = document.querySelector(".inputField input"), addBtn = document.querySelector(".inputField button"), todoList = document.querySelector(".todoList"), deleteAllBtn = document.querySelector(".footer button"); function showTasks() { let t = localStorage.getItem("New Todo"); listArray = null == t ? [] : JSON.parse(t), document.querySelector(".pendingTasks").textContent = listArray.length, listArray.length > 0 ? deleteAllBtn.classList.add("active") : deleteAllBtn.classList.remove("active"); let e = ""; listArray.forEach((t, l) => { e += `<li>${t}<span class="icon" onclick="deleteTask(${l})"><i class="fas fa-trash"></i></span></li>` }), todoList.innerHTML = e, inputBox.value = "" } function deleteTask(t) { let e = localStorage.getItem("New Todo"); listArray = JSON.parse(e), listArray.splice(t, 1), localStorage.setItem("New Todo", JSON.stringify(listArray)), showTasks() } inputBox.onkeyup = (() => { 0 != inputBox.value.trim() ? addBtn.classList.add("active") : addBtn.classList.remove("active") }), showTasks(), addBtn.onclick = (() => { let t = inputBox.value, e = localStorage.getItem("New Todo"); listArray = null == e ? [] : JSON.parse(e), listArray.push(t), localStorage.setItem("New Todo", JSON.stringify(listArray)), showTasks(), addBtn.classList.remove("active") }), deleteAllBtn.onclick = (() => { let t = localStorage.getItem("New Todo"); null == t ? listArray = [] : (listArray = JSON.parse(t), listArray = []), localStorage.setItem("New Todo", JSON.stringify(listArray)), showTasks() });